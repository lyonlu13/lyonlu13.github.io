{"version":3,"sources":["components/BackPatten/index.jsx","define/basic.js","define/blocks.js","utils/generate.js","Blocks/Text/index.jsx","Blocks/Image/index.jsx","Blocks/Latex/index.jsx","Blocks/Array/index.jsx","assets/icons/add.svg","utils/format.js","assets/icons/align_h.svg","assets/icons/align_v.svg","assets/icons/awesome.svg","assets/icons/pause.svg","assets/icons/play.svg","assets/icons/repeat.svg","components/Icon/list.js","components/Icon/index.jsx","Blocks/Music/index.jsx","Blocks/index.jsx","components/CommandBar/index.jsx","utils/check.js","utils/flow.js","components/IconButton/index.jsx","components/Modal/index.jsx","components/Toolbox/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["General","props","bgColor","Blank","styled","div","Grid","gridColor","Line","lineColor","lineWidth","space","BackPatten","type","color","offsetX","offsetY","option","style","backgroundPositionX","backgroundPositionY","width","backgroundSize","size","groupSize","Position","x","y","this","BlockInfo","typename","name","icon","commonize","target","info","pure","id","geometry","data","setData","_","cloneDeep","updateData","update","keys","forEach","key","setPos","pos","init","length","text","possible","i","charAt","Math","floor","random","makeId","dom","setDom","getName","TextBlock","makeAutoObservable","fontsize","value","pastingObject","setText","ImageBlock","src","me","file","reader","FileReader","readAsDataURL","onload","setSrc","result","onerror","error","console","log","url","LatexBlock","code","setCode","ArrayBlock","array","index","undefined","obj","JSON","parse","setArray","Array","isArray","map","k","MusicBlock","source","preload","createByYt","createByUrl","BlocksHolder","local_ids","localStorage","getItem","local_blocks","ids","blocks","b","BlockModel","raw","SpecificBlock","castMap","specify","logoImage","new","setWidth","welcome","setFontSize","descText","image1Image","image2Image","latex","music","setInterval","getInstance","save","models","model","onDelete","filter","d","setItem","stringify","push","instance","image","TextArea","minWidth","minHeight","outline","backgroundColor","padding","whiteSpace","Placeholder","observer","ref","useRef","useEffect","current","el","setAttribute","onPaste","e","stopPropagation","html","onChange","tagName","fontSize","onKeyDown","Float","span","bgcolor","draggingBlock","isSelected","selectedBlock","resizingBlock","onMouseDown","sendToFront","onDragOver","preventDefault","onDrop","dataTransfer","files","indexOf","display","alt","draggable","displaying","show","opacity","pointerEvents","transition","math","createPortal","resize","borderRadius","boxShadow","border","document","getElementById","InputBase","AddBtn","RemoveBtn","gap","element","Input","setElement","deleteItem","clone","splice","onClick","textAlign","isNaN","flexGrow","_path","_path2","pass","height","overflow","formatSec","sec","min","hour","zero","num","_excluded","_extends","Object","assign","arguments","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAdd","_ref","svgRef","title","titleId","xmlns","viewBox","fill","_g","ForwardRef","SvgAlignH","transform","stroke","rx","SvgAlignV","SvgAwesome","SvgPause","SvgPlay","SvgRepeat","iconList","add","Add","align_h","AlignH","align_v","AlignV","awesome","Awesome","pause","Pause","play","Play","repeat","Repeat","Icon","Selected","Cover","Player","Progress","Time","Controller","Toggle","Space","useState","loading","setLoading","duration","setDuration","seek","setSeek","playing","setPlaying","loop","setLoop","initHowl","fallback","howl","Howl","html5","onplay","onpause","onloaderror","onend","stop","a","Howler","autoUnlock","fetch","then","res","json","setSource","formats","thumbnail","videoDetails","thumbnails","doing","clearInterval","background","Loading","DiskIcon","rotate","gradientWidth","cursor","className","position","left","top","animation","animationPlayState","blocksHolder","ComponentsCast","Text","Image","Latex","ArrayB","Music","Component","zoom","get","find","item","isDragging","domSet","BlockBase","onMouseUp","shiftKey","Label","Outline","borderColor","DevLabel","verticalAlign","holdable","CommandBar","setDisplay","triggered","trigger","command","parts","split","replace","arg","join","execute","s","Command","includes","ID","WrongID","All","Frame","spellCheck","contentEditable","onKeyPress","onInput","innerHTML","pastedText","window","clipboardData","getData","match","InputFrame","urlCheck","regex","Promise","resolve","reject","audioCheck","imageCheck","timer","img","onabort","clearTimeout","setTimeout","audio","Audio","oncanplay","load","when","determine","case","con","v","else","Btn","IconButton","BackDrop","Card","Modal","isOpen","setOpen","children","Box","Button","Item","Toolbox","margin","Type","Touch","RightPanel","DisplayTitle","h3","Display","InfoLine","Tag","SelectingFrame","WorkSpace","zooming","App","mouseX","setMouseX","mouseY","setMouseY","setOffsetX","setOffsetY","setZoom","isHold","setHold","setSpace","selectedBlocks","setSelectedBlocks","selectingStart","setSelectingStart","dragOffset","setDragging","resizeOffset","isResizing","setResizing","originOffset","originMouse","dragging","isDrag","block","getBoundingClientRect","resizing","isResize","event","deltaY","forwardPaste","paste","URL","createObjectURL","yt","newBlockByPaste","onpaste","dT","startsWith","items","getAsString","txt","onmousemove","clientX","clientY","onmouseup","boundary","max","rect","right","bottom","overlapCheck","onkeydown","remove","onkeyup","onwheel","abs","button","onMouseMove","requestAnimationFrame","round","marginTop","targets","posX","sortBy","posY","offsetHeight","alignVertical","offsetWidth","alignHorizontal","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.177cad0d.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nconst General = props => `\r\n  position:absolute;\r\n  top:0;\r\n  left:0;\r\n  width:100vw;\r\n  height:100vh;\r\n  background: ${props.bgColor};\r\n  z-index:0;\r\n`\r\n\r\nconst Blank = styled.div`\r\n   ${General}\r\n`\r\n\r\nconst Grid = styled.div`\r\n ${General}\r\n  background-image:${props => `\r\n      linear-gradient(${props.gridColor} 1px, transparent 0),\r\n      linear-gradient(90deg, ${props.gridColor} 1px, transparent 0),\r\n      linear-gradient(${props.gridColor} 2px, transparent 0),\r\n      linear-gradient(90deg, ${props.gridColor} 2px, transparent 0)`};\r\n`\r\n\r\nconst Line = styled.div`\r\n${General}\r\n  background-image:${props => `linear-gradient(${props.lineColor} ${props.lineWidth}px, transparent 0)`};\r\n  background-size: ${props => `${props.space}px ${props.space}px, ${props.space}px ${props.space}px`};\r\n`\r\n\r\nexport default function BackPatten({ type = \"blank\", color = \"white\", offsetX = 0, offsetY = 0, option }) {\r\n  switch (type) {\r\n    case \"blank\":\r\n      return (<Blank\r\n        bgColor={color}\r\n        offsetX={offsetX}\r\n        offsetY={offsetY}\r\n        style={{\r\n          backgroundPositionX: offsetX,\r\n          backgroundPositionY: offsetY\r\n        }} />)\r\n    case \"line\":\r\n      return (<Line\r\n        bgColor={color}\r\n        offsetX={offsetX}\r\n        offsetY={offsetY}\r\n        space={option?.space || 30}\r\n        lineWidth={option?.width || 1}\r\n        lineColor={option?.lineColor || \"lightgray\"}\r\n        style={{\r\n          backgroundPositionX: offsetX,\r\n          backgroundPositionY: offsetY\r\n        }} />)\r\n    case \"grid\":\r\n      return (\r\n        <Grid bgColor={color} offsetX={offsetX} offsetY={offsetY} gridColor={option?.gridColor || \"#e0e0e0\"} style={{\r\n          backgroundPositionX: offsetX,\r\n          backgroundPositionY: offsetY,\r\n          backgroundSize:\r\n            `${option?.size || 30}px ${option?.size || 30}px, \r\n          ${option?.size || 30}px ${option?.size || 30}px, \r\n          ${(option?.size || 30) * (option?.groupSize || 5)}px ${(option?.size || 30) * (option?.groupSize || 5)}px,\r\n           ${(option?.size || 30) * (option?.groupSize || 5)}px ${(option?.size || 30) * (option?.groupSize || 5)}px`\r\n        }} />)\r\n    default:\r\n      return (\r\n        <Blank bgColor={color} offsetX={offsetX} offsetY={offsetY} style={{\r\n          backgroundPositionX: offsetX,\r\n          backgroundPositionY: offsetY\r\n        }} />)\r\n  }\r\n\r\n}\r\n","export class Position {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    offset(x, y) {\r\n        this.x += x;\r\n        this.y += y;\r\n    }\r\n}\r\n\r\nexport class Dimension {\r\n    constructor(w, h) {\r\n        this.w = w;\r\n        this.h = h;\r\n    }\r\n}\r\n\r\nexport class Geometry {\r\n    constructor(pos) {\r\n        this.pos = pos;\r\n    }\r\n}\r\n\r\n","import { makeAutoObservable } from \"mobx\"\r\nimport { Position } from \"./basic\";\r\nimport { makeId } from \"utils/generate\";\r\nimport _ from \"lodash\";\r\nexport class BlockInfo {\r\n    constructor(typename, name, color, icon) {\r\n        this.typename = typename;\r\n        this.name = name\r\n        this.color = color\r\n        this.icon = icon;\r\n    }\r\n}\r\n\r\nfunction commonize(target) {\r\n    target.type = target.info.typename\r\n    target.pure = function () {\r\n        return {\r\n            id: target.id,\r\n            name: target.name,\r\n            type: target.type,\r\n            geometry: target.geometry,\r\n            data: target.data,\r\n        }\r\n    }\r\n\r\n    target.setData = function (data) {\r\n        target.data = _.cloneDeep(data)\r\n        return target\r\n    }\r\n\r\n    target.updateData = function (update) {\r\n        if (update && typeof update === \"object\")\r\n            update.keys.forEach(key => {\r\n                target.data[key] = update.key\r\n            });\r\n    }\r\n\r\n    target.setPos = function (x, y) {\r\n        this.geometry.pos = new Position(x, y)\r\n        return target\r\n    }\r\n\r\n    target.init = function () {\r\n        target.id = makeId(5)\r\n        return target\r\n    }\r\n\r\n    target.dom = null\r\n    target.setDom = function (dom) {\r\n        this.dom = dom\r\n    }\r\n\r\n    target.getName = function () {\r\n        return this.name || this.info.name\r\n    }\r\n}\r\nexport class TextBlock {\r\n    info = new BlockInfo(\"text\", \"文字方塊\", \"#00a2ff\", \"text\")\r\n    constructor(id, name, geometry, data) {\r\n        this.data = {};\r\n        this.id = id;\r\n        this.name = name\r\n        this.geometry = geometry || { pos: new Position(0, 0) };\r\n        this.data = data;\r\n        commonize(this)\r\n        makeAutoObservable(this)\r\n    }\r\n    new() {\r\n        this.data.text = \"Hello World\"\r\n        this.data.fontsize = 18\r\n        return this\r\n    }\r\n    value() {\r\n        return {\r\n            type: \"string\",\r\n            value: this.data.text\r\n        }\r\n    }\r\n    setText(text) {\r\n        this.data.text = text\r\n        return this\r\n    }\r\n    setFontSize(size) {\r\n        this.data.fontsize = size\r\n        return this\r\n    }\r\n    paste(pastingObject) {\r\n        if (pastingObject.type === \"text\") {\r\n            this.setText(pastingObject.text)\r\n        }\r\n    }\r\n}\r\n\r\nexport class ImageBlock {\r\n    info = new BlockInfo(\"image\", \"圖片方塊\", \"#ffc400\", \"image\")\r\n    constructor(id, name, geometry, data) {\r\n        this.data = {};\r\n        this.id = id;\r\n        this.name = name\r\n        this.geometry = geometry || { pos: new Position(0, 0) };\r\n        this.data = data;\r\n        commonize(this)\r\n        makeAutoObservable(this)\r\n    }\r\n    new() {\r\n        this.data.src = \"https://lyonlu13.github.io/Ordinary-Note/Logo.png\"\r\n        this.data.width = 400\r\n        return this\r\n    }\r\n    value() {\r\n        return {\r\n            type: \"image\",\r\n            value: this.data.src\r\n        }\r\n    }\r\n    setSrc(src) {\r\n        this.data.src = src\r\n        return this\r\n    }\r\n    setWidth(width) {\r\n        if (width >= 100)\r\n            this.data.width = width\r\n        return this\r\n    }\r\n    paste(pastingObject) {\r\n        const me = this\r\n        if (pastingObject.type === \"image\") {\r\n            if (pastingObject.file) {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(pastingObject.file);\r\n                reader.onload = function () {\r\n                    me.setSrc(reader.result)\r\n                };\r\n                reader.onerror = function (error) {\r\n                    console.log('Error: ', error);\r\n                };\r\n            } else {\r\n                me.setSrc(pastingObject.url)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport class LatexBlock {\r\n    info = new BlockInfo(\"latex\", \"LaTeX方塊\", \"#00a808\", \"image\")\r\n    constructor(id, name, geometry, data) {\r\n        this.data = {};\r\n        this.id = id;\r\n        this.name = name\r\n\r\n        this.geometry = geometry || { pos: new Position(0, 0) };\r\n        this.data = data;\r\n        commonize(this)\r\n        makeAutoObservable(this)\r\n    }\r\n    new() {\r\n        this.data.code = \"\"\r\n        return this\r\n    }\r\n    value() {\r\n        return {\r\n            type: \"text\",\r\n            value: this.data.code\r\n        }\r\n    }\r\n    setCode(code) {\r\n        this.data.code = code\r\n    }\r\n    paste(pastingObject) {\r\n        if (pastingObject.type === \"text\")\r\n            this.setCode(pastingObject.text)\r\n    }\r\n}\r\nexport class ArrayBlock {\r\n    info = new BlockInfo(\"array\", \"陣列方塊\", \"#5800fc\", \"image\")\r\n    constructor(id, name, geometry, data) {\r\n        this.data = {};\r\n        this.id = id;\r\n        this.name = name\r\n\r\n        this.geometry = geometry || { pos: new Position(0, 0) };\r\n        this.data = data;\r\n        commonize(this)\r\n        makeAutoObservable(this)\r\n    }\r\n    new() {\r\n        this.data.array = [0, 1, 2, 3, 4, 5]\r\n        return this\r\n    }\r\n    value() {\r\n        return {\r\n            type: \"array\",\r\n            value: this.data.array\r\n        }\r\n    }\r\n    setArray(array) {\r\n        this.data.array = array\r\n    }\r\n    setElement(index, value) {\r\n        if (this.data.array[index] !== undefined)\r\n            this.data.array[index] = value\r\n    }\r\n    paste(pastingObject) {\r\n        if (pastingObject.type === \"text\") {\r\n            try {\r\n                const obj = JSON.parse(pastingObject.text)\r\n                this.setArray(Array.isArray(obj) ? obj : obj.keys.map((k) => obj[k]))\r\n            } catch {\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\nexport class MusicBlock {\r\n    info = new BlockInfo(\"music\", \"音樂方塊\", \"#FC0000\", \"music\")\r\n    constructor(id, name, geometry, data) {\r\n        this.data = {};\r\n        this.id = id;\r\n        this.name = name\r\n\r\n        this.geometry = geometry || { pos: new Position(0, 0) };\r\n        this.data = data;\r\n        commonize(this)\r\n        makeAutoObservable(this)\r\n    }\r\n    new() {\r\n        this.data.type = \"yt\"   //yt, url\r\n        this.data.source = {\r\n            url: \"https://www.youtube.com/watch?v=BFtzfdMHjkk\",\r\n            preload: \"\",\r\n        }\r\n        return this\r\n    }\r\n    value() {\r\n        return {\r\n            type: \"url\",\r\n            value: this.data.source\r\n        }\r\n    }\r\n    setType(type) {\r\n        this.data.type = type\r\n    }\r\n    setSource(source) {\r\n        this.data.source = source\r\n    }\r\n    paste(pastingObject) {\r\n        if (pastingObject.type === \"text\") {\r\n            // Todo: detect if this text a valid url\r\n        }\r\n    }\r\n}\r\n\r\nMusicBlock.createByYt = (url, pos) => {\r\n    return new MusicBlock().init().setData({\r\n        type: \"yt\",\r\n        source: {\r\n            url\r\n        }\r\n    }).setPos(pos.x, pos.y)\r\n}\r\n\r\nMusicBlock.createByUrl = (url, pos) => {\r\n    return new MusicBlock().init().setData({\r\n        type: \"url\",\r\n        source: {\r\n            url\r\n        }\r\n    })\r\n}\r\n\r\nexport class BlocksHolder {\r\n    constructor() {\r\n        let local_ids = localStorage.getItem(\"ids\")\r\n        let local_blocks = localStorage.getItem(\"blocks\")\r\n\r\n        if (local_ids && local_blocks) {\r\n            this.ids = JSON.parse(local_ids)\r\n            this.blocks = {}\r\n            const list = JSON.parse(local_blocks)\r\n            list.forEach(b => {\r\n                let BlockModel = specify(b)\r\n                if (BlockModel)\r\n                    this.blocks[b.id] = BlockModel\r\n            })\r\n        } else {\r\n            this.blocks = {}\r\n            const logoImage = new ImageBlock(\"_\", \"Logo\", { pos: new Position(0, 0) }, {}).init().new()\r\n            logoImage.setSrc(\"https://lyonlu13.github.io/Ordinary-Note/Logo.png\")\r\n            logoImage.setWidth(400)\r\n            const welcome = new TextBlock(\"_\", \"歡迎文字\", { pos: new Position(0, 160) }, {}).init().new()\r\n            welcome.setText(\"歡迎使用平凡筆記\").setFontSize(45)\r\n            const descText = new TextBlock(\"_\", \"說明文字\", { pos: new Position(0, 220) }, {}).init().new()\r\n            descText.setText(\"嘗試看看各種不同的方塊吧!\\nBy the way~ 我是文字方塊\").setFontSize(20)\r\n            const image1Image = new ImageBlock(\"_\", \"Image1\", { pos: new Position(0, 330) }, {}).init().new()\r\n            image1Image.setSrc(\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQEBAQDxAPEA8QDw8PDw8PEA8PDw8PFREWFhURFRUYHSggGBolGxUVITEhJSkrLi4uFx8zOD8tNygtOisBCgoKDg0OFRAQFSsdFx0tKy0tKy0tKy0tLS0tKy0tLS0tLS0tLS0tLTc3NystLTctLTc3Ny03Nys3LSsrKysrK//AABEIAOcA2gMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAACAAEDBAUGBwj/xAA0EAACAQMDAgQEBAUFAAAAAAAAAQIDBBEFEiExUQYTFEEiYXGRMkKBoRUWI1JTBySxweH/xAAYAQEBAQEBAAAAAAAAAAAAAAABAAIDBP/EABsRAQEBAQEBAQEAAAAAAAAAAAABEQISITFB/9oADAMBAAIRAxEAPwDT2iSNL0gvSHmx6GakHtL/AKQJWgYNZ20W001aDu1L6dZaiEqbNJWhIrVF9DJUB/LNRWqC9KhTK8sHyzX9MhelQKMnYLYa/pUL0qIspUmLymbHpx/TosGsdUhOmbHp0LyEa86PTHVL5D+SzXVBBqhEsWsb07F6dm15SE6SDExfIYvIZseSh/JQrWP5AvIZseShvJQyLWR5DF6c1/JQvKQ+QLBHWmo9SVmFrF7htBS0Y3ce6JI3CfRnHTun7B0b+S7mTjsk8kigc1aaw1xLoblteRn05GUYtbRxkx0IpbRYEOayDTYFgcdFkWhwLAQxYtIWBCDEZjDsir1VFZL8UhqtVICFxkyKl65Sa9slug+BjeLkq2AI3PJBUZFAKsa8R0RUHwiVBGLCEMOaBDDiJBkcZ4gqYqM7KRxPiGP9TkxrpFCFQmjIqQRYgybHKLDtb2dKWU39A6LTCqUEwqdNp2oqolzz7mnGSPPXUlTeU+Tc0zW1hKXUpWbHUjYKVDUISX4kWI14v3RvYxYmGKla+px6yRn1tZj0jlsvSxtbkPT56GDSq1Kr4Uv+joNKtJrmfTsOhKqDFO2ljJpxgG4cEI5u4q7eqfBzeoapvbS6ZPQatpF9UjI1HQaU+dqUu5mtxyFm+TapPgeejKHKIajceOxc1uCrVCKMyKVXIomrYWvaSLaKViXcmdc+oQhCJkhCEaAWcl4lpfFk13r9D+9fcydSuIVuYyUjDpywYsPeKrDBBuDW1qnWwW6VXJlpk9tUwwtSxdQM6baNjcmjLuafJmkEL2a6Nk9LUavRN4FSoLsWaFJNpFIEtpRlUeW2zqtL0JdZlLTo06fMpJe79gdQ8ZRi9tD430b9kbkZrsbW0hTXCLG9Hl0fGtw5qPD9mjudArzrwUpJx+vudHOxtwkHFkajgqXVy4Zx1EY0COrE5K/8RVoviL4M2XjCquqCtSNjxRTuFH/b4TfV4yzz7Uru9pczl7+6Z0/85T7I2NJvaF2sVYQb+iMOkcJpOtubUamF8zoqM8m/PwRZSbltcW+z9wpeFoRX9Ob46JktVreXCKs9dpRk4Slhp4aLnkSpvE1j5+xj3+g0qsnJ5TfYsZv60oavSf54/cmV/D+5fc5K48L4/DOa/VlWegV1+Gq8dg1Y7lX0P7l9x/VR7r7o4P8Agdx/kefqH/B7n/JIvQ8qkPCUvecvua9lpDpRwnk6KNIPyw1tzd3ZvBi1aeGdvdUU0YOoWLz8K4IsSJYopA1aDRG54RNSNGDBdLLyUKNZ5L0qvBCw0mT27KW/J0mh6fGSW7nLGByeteprSVOlGW1ctrPJc0XwRc1MSnLy4vD7tnp9vaU4JYivqWvMiljhG4zawNG8H21u92N8+8ueTdnVjBdkUb3UFDg5vU9Ylyt3HYtGOgudfjExbzXJPO1L9TlrjUG3xnJX31Zl+lq3Got5zL9zJuKkX+ZCjpk5dcjS0V/McUsUqlxFfmRc0zVvKknGS+mShdaH9TJuNNlF8N8GcOvXNJ8WRlhSfJ0lvqEJ9JI+eaOoVKb5bOm0TxHLK+L9wGPYrynGccPr7GBN7JYfcq6drynhSfJJf11LlDqxalFSWUROiR6fcZ+F/oXnELAoukNs+RblEbaZxaPAMgpAMNGq1wV4Y6NFyoipU4Y8txV1G0i4t4RzNWnydXcVU44yc7d0uWayNy4gpUkBcTwSRlhGZqVbHBmjpJQud1RL2PQdFlFJHnekUsy/c7qhV2xQxh0Fa/x7mbfajhcMy69yZl3d4Tb6GpRixqGpZ5csJLuYc72M5P4l9zm9V1WdSTSfwp4IqEoYbc3GXsuXki7mwsVPlYeex0FppK7Hnfh/W5UKi5zBtJp/8nr2k141YRnHo0bYQ2+lR7EstIXY2aNMn2Ihrj7rR1zwec+I67VSdOmvwvD9vY9xq26lweJeOLGrbXVSTi9k3lSxwZsajkp1JZ+IkppweYg8yeTSpWcnDOH/AOGW2jpuo8deex0tjqG5JNnn7zCRuadcPh5Iu0t62GmjoaFTdFPusnF2VfJ0ukV24/R4JitKUQMBZHwZ0aTAlEfI6MpC6ZSvqTxwahFcLhmoY831PUZwqOGePmPTv8rkLxJbf1HLBgyr44FrWtcXWOhk1qu+RXr3AWmR3yKxa6rQqWMPBu1amEZemLCJrmsCKrWM+9h5vwZaz1K99eOKbXUfRa7lJN8miVLwNOeHCXXOc8c/Ir/yFetvFPK6Z7np2lOCim2l+psUriPs0/oyjDyix/08um0pxUfn2PQ/C+iVLaChN5xjnLeTdjWJlUWDQps4AdbA9Xocjr+pzpzeMtLsOwZtdXK5SMrWbGjdR21Ipr58nHLxFJ9y/pOpVK1SMVwn1Ya15WKH+nlonuxn3w84B1PQIQi1CCSS9kdeqiWFldO5UvpxafK5JPE9fsdjfBT0uv7HceJrRPJxKo7ZfqFajorGfJ0ek1cS+TOVsZ9Do9Ll8SMh1EQsARYW4MGBCSI94SmEAyKt0HcyOTKmOW8SUMxb7Hndy8N/U9Y1S33wlx7HlusUNknnuw5v0s6pPJt+HqGFufuzBT5Ol0mtiODpRHS2ywiC6mw7eeURV1nINyMDVZvoX/Dy6Mp6jTLmjTwSdfSrYLNG/Uepi+fwVJ3LyAx18deDhr3z/c4t3DGddmtGO8jrvdr7kFzqFOf4tr+pxPqX3AndsTIu6wobsw6fYm0bU40U89fZmFVrtld1GDp/HYXPiRvpLH6FOesyl+fPbg5pybLFumTC/eXcpJ5kYNaXJoXD4M5xzINTTskuDotLfxI5+zh0N/TF8aDQ6qPQQodBFoQZFuAyIGcO2xmOh8BTENSOUed+MdOcJZ9nyj0naYniTT/NptY5WcByXkDeGbek1d3BmXNs4yaa5TNfQbfnJ0EdPar4V8gmh6PTAagTbOv7fdF46mfaS2vBvTgZ1zb4eUvqSTxq8EkUUIzwWqVQkn2EUok8QZIhVeUSOVMsMWDUqVPKG8ktuIOC1rVdUkSNYHbIK1QykNxUyK3gAllluhHBGxaoRwb+j0svcYlustHW6dRSgjNc60KfQcGLwFkArCCUR9o1aANC2jmKjkFxBOPJMgLhfCHNMed6/pMXNyisPP3QGnW2xHR39JSZSVv8jscPSRNFDQpkkSIJRK1aJeZDOIpkVaXOQISaNKdNMqVaWCMPCsSeYVWLcC8rDkMplWUwXWCjyuuSBlNFN1gJVWWmcpq1Urt5G5ZYo0hjfnA0oFynECCLNGnuaRrWLV3TLfdLpwdXSWEZ+l2mxc+5pGNYpIPAKCC0QzBbDTGcewaKjyOOojqJZqKKIb+eFwWUsFC7n1Gc40yaq5IGizWIWiIENgdoYdR2RyDbAmy0omgJwySDMtSpUoEEqTLzYEsC16Z0qYDpmhKKI3FAfSi6QvKLbByWL0GnTJcYXBHuYcIsWbTwRr6TQ3SRn0afJ1GkUEop4JhpQXAQsDYM0SlkLIKiOZWmQakCIZyqPKCSIiWmIDXlhGPXkaN/U9jKnya1qIZEUkTNEbQUohYDwLBlIpIjmidgyRJXSAkTtEU0OFBMiyWJRInE0UUmRNk+0FxBIMCUSfaLaWAEYokhEdRJII1sCa2jydPp8fhOdt4nRWMvhCqxcCSB3DbjDA8DAOQ28p8Btw6Ytoki1sSJI8DQiS1lhDGWbePllFlqvLJWaFpHJkbJJojkFpCJjjFIgNDNBAtikbQOAxmJRSgRSiWGyGTKVItgMokotuRCu0LBI4gitJEkUDFEqRjElovlG9YSyjCp9UbWnMS0cjBOIlAzXMzBwS7BYBFtEoEmCSnTyzUiHQpEWo8I1belhGRqzNZ8UZFRkbHmyNsw0aSAaDbFkIUbQDJJERpGwDJEmBmiSFgkkkC0JQSQDRPIhZjPoMM2PgZo3uEDQ2A8CwY1kMUTRRGkSRZuFKjU098mUpF2yfKIuio4wSJFal0JPMwZYsHIDA6lkfAVYNLJoWlLuIRvllZqcI53UpciEa6/FKyZ9QRCOTZmMIRYjMBoQhGkwRCGkMkAxCIopEbGEbz6hYBwIQdRECxCMYCQQwhpHEvWXVCEEGt6l0/QeQhFYjJhb2IQYK//2Q==\")\r\n            image1Image.setWidth(150)\r\n            const image2Image = new ImageBlock(\"_\", \"Image2\", { pos: new Position(150, 330) }, {}).init().new()\r\n            image2Image.setSrc(\"https://megapx-assets.dcard.tw/images/75c77574-1d24-4ee9-bfef-ccc891a9cb2e/full.jpeg\").setWidth(150)\r\n            const latex = new LatexBlock(\"_\", \"LaTeX\", { pos: new Position(0, 500) }, {}).init().new()\r\n            latex.setCode(\"\\\\binom{n}{k} = \\\\frac{n!}{k!(n-k)!}\")\r\n            const music = MusicBlock.createByYt(\"https://www.youtube.com/watch?v=NPBCbTZWnq0\", new Position(350, 350))\r\n\r\n            this.blocks[logoImage.id] = logoImage\r\n            this.blocks[welcome.id] = welcome\r\n            this.blocks[descText.id] = descText\r\n            this.blocks[image1Image.id] = image1Image\r\n            this.blocks[image2Image.id] = image2Image\r\n            this.blocks[latex.id] = latex\r\n            this.blocks[music.id] = music\r\n            this.ids = [logoImage.id, welcome.id, descText.id, image1Image.id, latex.id, image2Image.id, music.id]\r\n        }\r\n\r\n        setInterval(() => {\r\n            save()\r\n        }, 5000)\r\n\r\n        makeAutoObservable(this)\r\n    }\r\n    static getInstance() {\r\n        if (!this.instance) {\r\n            this.instance = new BlocksHolder();\r\n        }\r\n        return this.instance;\r\n    }\r\n    get(id) {\r\n        return this.blocks[id]\r\n    }\r\n    remove(models) {\r\n        models.forEach(model => {\r\n            if (model.onDelete) {\r\n                model.onDelete()\r\n            }\r\n            this.ids = this.ids.filter((d) => d !== model.id)\r\n            delete this.blocks[model.id]\r\n        });\r\n        this.save()\r\n    }\r\n    save() {\r\n        localStorage.setItem(\"ids\", JSON.stringify(this.ids))\r\n        localStorage.setItem(\"blocks\", JSON.stringify(this.ids.map(id => this.blocks[id].pure())))\r\n    }\r\n\r\n    sendToFront(id) {\r\n        this.ids = [...this.ids.filter((d) => d !== id), id]\r\n    }\r\n\r\n    new(model) {\r\n        this.blocks[model.id] = model\r\n        this.ids.push(model.id)\r\n        this.save()\r\n    }\r\n}\r\n\r\nfunction save() {\r\n    const blocksHolder = BlocksHolder.getInstance()\r\n    blocksHolder.save()\r\n}\r\n\r\nexport const castMap = {\r\n    text: TextBlock,\r\n    image: ImageBlock,\r\n    latex: LatexBlock,\r\n    array: ArrayBlock,\r\n    music: MusicBlock\r\n}\r\n\r\nfunction specify(raw) {\r\n    const SpecificBlock = castMap[raw.type]\r\n    if (SpecificBlock)\r\n        return new SpecificBlock(raw.id, raw.name, raw.geometry, raw.data)\r\n    else return null;\r\n}\r\n\r\nexport function alignVertical(targets, gap) {\r\n    targets = _.sortBy(targets, [(block) => block.geometry.pos.y, (block) => block.geometry.pos.x])\r\n    // Unfortunately, JS classic sort is unstable.\r\n    // Random alignment for blocks with the same x-coordinate is a kind little bit weird...\r\n    // targets.sort((block) => block.geometry.pos.x).sort((block) => block.geometry.pos.y)\r\n    const posX = targets[0].geometry.pos.x\r\n    let posY = targets[0].geometry.pos.y\r\n    targets.forEach((block) => {\r\n        block.setPos(posX, posY)\r\n        posY += block.dom.offsetHeight + gap\r\n    })\r\n}\r\n\r\nexport function alignHorizontal(targets, gap) {\r\n    targets = _.sortBy(targets, [(block) => block.geometry.pos.x, (block) => block.geometry.pos.y])\r\n    const posY = targets[0].geometry.pos.y\r\n    let posX = targets[0].geometry.pos.x\r\n    targets.forEach((block) => {\r\n        block.setPos(posX, posY)\r\n        posX += block.dom.offsetWidth + gap\r\n    })\r\n}","// Ref: https://gist.github.com/agustinhaller/6181104\r\nexport function makeId(length) {\r\n    let text = \"\";\r\n    const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n    for (let i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return text;\r\n}\r\n","import { observer } from 'mobx-react-lite';\r\nimport styled from 'styled-components';\r\nimport React, { useEffect, useRef } from \"react\"\r\nimport ContentEditable from 'react-contenteditable';\r\n\r\nconst TextArea = {\r\n  minWidth: 210,\r\n  minHeight: 30,\r\n  outline: \"none\",\r\n  backgroundColor: \"#FFFFFF3A\",\r\n  padding: 10,\r\n  whiteSpace: \"nowrap\"\r\n}\r\n\r\nconst Placeholder = styled.div`\r\nposition: absolute;\r\ntop: 4px;\r\nleft: 4px;\r\ncolor:gray;\r\npadding:8px;\r\npointer-events: none;\r\n`\r\n\r\nexport default observer(function Text({ model }) {\r\n  const ref = useRef(null)\r\n\r\n  useEffect(() => {\r\n    if (ref.current) {\r\n      ref.current.el.current.setAttribute(\"contenteditable\", \"plaintext-only\")\r\n    }\r\n  }, [])\r\n\r\n  return <>\r\n    <ContentEditable\r\n      ref={ref}\r\n      onPaste={(e) => {\r\n        e.stopPropagation()\r\n      }}\r\n      html={model.data.text}\r\n      onChange={(e) => {\r\n        model.setText(e.target.value)\r\n      }}\r\n      tagName='div'\r\n      style={{ ...TextArea, fontSize: model.data.fontsize }}\r\n      onKeyDown={(e) => {\r\n        e.stopPropagation()\r\n      }}\r\n    />\r\n    {model.data.text === \"\" &&\r\n      <Placeholder>\r\n        Text here...\r\n      </Placeholder>}\r\n  </>\r\n\r\n\r\n\r\n})\r\n","import { observer } from 'mobx-react-lite';\r\nimport React from \"react\"\r\nimport { BlocksHolder } from 'define/blocks';\r\nimport { FaArrowsAltH } from \"react-icons/fa\"\r\nimport styled from 'styled-components';\r\n\r\n\r\n\r\nconst Float = styled.span`\r\n  background-color:${(props) => props.bgcolor};\r\n  width:30px;\r\n  height:30px;\r\n  display:inline-flex;\r\n  justify-content:center;\r\n  align-items:center;\r\n  color: white;\r\n  position:absolute;\r\n  top:50%;\r\n  right:0;\r\n  transform: translate(50%,-50%);\r\n  border-radius:2px;\r\n  cursor:ew-resize;\r\n`\r\n\r\nexport default observer(function Image({ draggingBlock, isSelected, selectedBlock, resizingBlock, model }) {\r\n  return <div\r\n    onMouseDown={() => {\r\n      if (isSelected) {\r\n        draggingBlock(true)\r\n        if (selectedBlock().length === 1)\r\n          BlocksHolder.getInstance().sendToFront(model.id)\r\n      }\r\n    }}\r\n    onDragOver={(e) => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    }}\r\n    onDrop={(e) => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      const file = e.dataTransfer.files[0]\r\n      if (file.type.indexOf(\"image\") > -1) {\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function () {\r\n          model.setSrc(reader.result)\r\n        };\r\n        reader.onerror = function (error) {\r\n          console.log('Error: ', error);\r\n        };\r\n      }\r\n    }}\r\n  >\r\n    <img\r\n      style={{ display: \"block\" }}\r\n      alt=\"\"\r\n      src={model.data.src}\r\n      width={model.data.width}\r\n      draggable=\"false\"\r\n    />\r\n    <Float\r\n      bgcolor={model.info.color}\r\n      style={displaying(isSelected && selectedBlock().length === 1)}\r\n      onMouseDown={(e) => {\r\n        e.stopPropagation()\r\n        resizingBlock(true)\r\n      }}>\r\n      <FaArrowsAltH />\r\n    </Float>\r\n  </div>\r\n})\r\n\r\nconst displaying = (show) => ({\r\n  opacity: show ? 1 : 0,\r\n  pointerEvents: show ? \"auto\" : \"none\",\r\n  transition: \"0.3s\"\r\n})\r\n","import { observer } from 'mobx-react-lite';\r\nimport React, { useRef } from \"react\"\r\nimport { BlockMath } from 'react-katex';\r\nimport { createPortal } from 'react-dom';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport { BlocksHolder } from 'define/blocks';\r\n\r\nexport default observer(function Latex({ model, isSelected, selectedBlock, draggingBlock }) {\r\n  const ref = useRef(null)\r\n  return <div\r\n    style={{ minWidth: 120, minHeight: 40, padding: 10, color: model.data.code === \"\" ? \"gray\" : \"black\" }}\r\n    onMouseDown={() => {\r\n      if (isSelected) {\r\n        draggingBlock(true)\r\n        if (selectedBlock().length === 1)\r\n          BlocksHolder.getInstance().sendToFront(model.id)\r\n      }\r\n    }}\r\n  >\r\n    <BlockMath\r\n      ref={ref}\r\n      math={model.data.code || \"LaTeX...\"}\r\n    />\r\n    {isSelected && selectedBlock().length === 1 && createPortal(\r\n      <TextareaAutosize\r\n        style={{\r\n          outline: \"none\",\r\n          padding: 5,\r\n          resize: \"none\",\r\n          width: \"100%\",\r\n          borderRadius: 2,\r\n          backgroundColor: \"#f8f8f8\",\r\n          boxShadow: \"0 0 2px 0.3px lightgray\",\r\n          border: \"none\"\r\n        }}\r\n        onMouseDown={(e) => { e.stopPropagation() }}\r\n        onKeyDown={(e) => { e.stopPropagation() }}\r\n        value={model.data.code}\r\n        onChange={(e) => model.setCode(e.target.value)} />, document.getElementById(\"attributes\"))}\r\n  </div>\r\n})\r\n","import { observer } from \"mobx-react-lite\"\r\nimport styled from \"styled-components\"\r\nimport React, { useRef } from \"react\"\r\nimport { FaPlus, FaTimes, FaGripLines } from \"react-icons/fa\"\r\n\r\nconst InputBase = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 16px;\r\n  border-radius: 2px;\r\n  background-color: #f8f8f8;\r\n  box-shadow: 0 0 1px 0.3px gray;\r\n  margin: 5px 2.5px;\r\n  & input {\r\n    outline: none;\r\n    width: 85px;\r\n    border: none;\r\n    background-color: transparent;\r\n  }\r\n`\r\n\r\nconst AddBtn = styled.span`\r\n  background-color: ${(props) => props.bgcolor};\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 12px;\r\n  padding: 2px;\r\n  border-radius: 2px;\r\n  color: white;\r\n  &:hover {\r\n    background-color: white;\r\n    color: ${(props) => props.bgcolor};\r\n  }\r\n`\r\n\r\nconst RemoveBtn = styled.span`\r\n  position: absolute;\r\n  right: 0;\r\n  border-radius: 100px;\r\n  background-color: transparent;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 10px;\r\n  padding: 3px;\r\n  color: ${(props) => props.bgcolor};\r\n  &:hover {\r\n    background-color: ${(props) => props.bgcolor};\r\n    color: white;\r\n  }\r\n`\r\n\r\nexport default observer(function Array({ model, isSelected }) {\r\n  // const ref = useRef(null)\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", gap: 5, padding: 2 }}>\r\n      {model.data.array.map((element, index) => (\r\n        <Input\r\n          key={index}\r\n          value={element}\r\n          onChange={(e) => {\r\n            model.setElement(index, e.target.value)\r\n          }}\r\n          isSelected={isSelected}\r\n          model={model}\r\n          deleteItem={() => {\r\n            const clone = [...model.data.array]\r\n            clone.splice(index, 1)\r\n            model.setArray(clone)\r\n          }}\r\n        />\r\n      ))}\r\n      <AddBtn\r\n        bgcolor={model.info.color}\r\n        style={{\r\n          ...displaying(isSelected, true),\r\n        }}\r\n        onClick={() => {\r\n          model.setArray([...model.data.array, \"\"])\r\n        }}\r\n      >\r\n        <FaPlus />\r\n      </AddBtn>\r\n    </div>\r\n  )\r\n})\r\n\r\nfunction Input({ value, onChange, isSelected, model, deleteItem }) {\r\n  return (\r\n    <span>\r\n      <InputBase>\r\n        <input\r\n          type=\"text\"\r\n          value={value}\r\n          onKeyDown={(e) => {\r\n            e.stopPropagation()\r\n          }}\r\n          onChange={onChange}\r\n          style={{ textAlign: isNaN(value) || value === \"\" ? \"left\" : \"center\" }}\r\n        />\r\n        <RemoveBtn\r\n          bgcolor={model.info.color}\r\n          style={{\r\n            flexGrow: 1,\r\n            ...displaying(isSelected),\r\n          }}\r\n          onClick={() => {\r\n            deleteItem()\r\n          }}\r\n        >\r\n          <FaTimes />\r\n        </RemoveBtn>\r\n      </InputBase>\r\n      <div\r\n        style={{\r\n          flexGrow: 1,\r\n          textAlign: \"center\",\r\n          fontSize: 12,\r\n          ...displaying(isSelected),\r\n        }}\r\n      >\r\n        <FaGripLines color={model.info.color} />\r\n      </div>\r\n    </span>\r\n  )\r\n}\r\n\r\nconst displaying = (show, pass) => ({\r\n  opacity: show ? 1 : 0,\r\n  pointerEvents: show ? \"auto\" : \"none\",\r\n  transition: \"0.3s\",\r\n  height: show || pass ? null : 0,\r\n  width: show || pass ? null : 0,\r\n  overflow: \"hidden\",\r\n})\r\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAdd(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAdd);\nexport default __webpack_public_path__ + \"static/media/add.376e9b6a.svg\";\nexport { ForwardRef as ReactComponent };","export function formatSec(sec) {\r\n    sec = Math.floor(sec);\r\n    let min = Math.floor(sec / 60);\r\n    sec = sec % 60;\r\n    if (min >= 60) {\r\n        let hour = Math.floor(min / 60);\r\n        min = min % 60;\r\n        return `${zero(hour)}:${zero(min)}:${zero(sec)}`\r\n    } else\r\n        return `${zero(min)}:${zero(sec)}`\r\n}\r\n\r\nfunction zero(num) {\r\n    return `${num >= 10 ? num : '0' + num}`\r\n}\r\n\r\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAlignH(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"title\", null, \"Layer 1\"), /*#__PURE__*/React.createElement(\"path\", {\n    transform: \"rotate(-90 12.8096 17.2039)\",\n    stroke: \"null\",\n    id: \"svg_8\",\n    d: \"m9.40553,21.56172l3.40403,4.30457l3.40403,-4.30457l-1.70202,0l0,-13.02018l-3.40403,0l0,13.02018l-1.70202,0z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    transform: \"rotate(-90 18.2639 7.44686)\",\n    stroke: \"null\",\n    rx: 0.5,\n    id: \"svg_11\",\n    height: 4.0695,\n    width: 7.86465,\n    y: 5.4121,\n    x: 14.33164\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    transform: \"rotate(-90 12.1934 7.44685)\",\n    stroke: \"null\",\n    rx: 0.5,\n    id: \"svg_14\",\n    height: 4.0695,\n    width: 7.86465,\n    y: 5.4121,\n    x: 8.26106\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    transform: \"rotate(-90 6.19705 7.44685)\",\n    stroke: \"null\",\n    rx: 0.5,\n    id: \"svg_17\",\n    height: 4.0695,\n    width: 7.86465,\n    y: 5.4121,\n    x: 2.26473\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAlignH);\nexport default __webpack_public_path__ + \"static/media/align_h.1355f372.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAlignV(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"title\", null, \"Layer 1\"), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"null\",\n    id: \"svg_8\",\n    d: \"m14.4986,16.61824l3.40403,4.30457l3.40403,-4.30457l-1.70202,0l0,-13.02018l-3.40403,0l0,13.02018l-1.70202,0z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    stroke: \"null\",\n    rx: 0.5,\n    id: \"svg_11\",\n    height: 4.0695,\n    width: 7.86465,\n    y: 15.35855,\n    x: 3.95245\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    stroke: \"null\",\n    rx: 0.5,\n    id: \"svg_14\",\n    height: 4.0695,\n    width: 7.86465,\n    y: 9.28797,\n    x: 3.95245\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    stroke: \"null\",\n    rx: 0.5,\n    id: \"svg_16\",\n    height: 4.0695,\n    width: 7.86465,\n    y: 3.34522,\n    x: 3.95245\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    stroke: \"null\",\n    rx: 0.5,\n    id: \"svg_17\",\n    height: 4.0695,\n    width: 7.86465,\n    y: 3.34522,\n    x: 3.95245\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAlignV);\nexport default __webpack_public_path__ + \"static/media/align_v.7011962d.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAwesome(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAwesome);\nexport default __webpack_public_path__ + \"static/media/awesome.1fbcc5cb.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPause(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPause);\nexport default __webpack_public_path__ + \"static/media/pause.b52642a6.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlay(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 5v14l11-7z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlay);\nexport default __webpack_public_path__ + \"static/media/play.222a0afb.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRepeat(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRepeat);\nexport default __webpack_public_path__ + \"static/media/repeat.2db64c7f.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport {ReactComponent as Add } from 'assets/icons/add.svg';\nimport {ReactComponent as AlignH } from 'assets/icons/align_h.svg';\nimport {ReactComponent as AlignV } from 'assets/icons/align_v.svg';\nimport {ReactComponent as Awesome } from 'assets/icons/awesome.svg';\nimport {ReactComponent as Pause } from 'assets/icons/pause.svg';\nimport {ReactComponent as Play } from 'assets/icons/play.svg';\nimport {ReactComponent as Repeat } from 'assets/icons/repeat.svg';\n\nconst iconList = {\nadd:Add ,\nalign_h:AlignH ,\nalign_v:AlignV ,\nawesome:Awesome ,\npause:Pause ,\nplay:Play ,\nrepeat:Repeat ,\n};\nexport default iconList;","import iconList from \"./list.js\"\r\n\r\nexport default function Icon({ icon, color, size, style, onClick }) {\r\n    const Selected = iconList[icon];\r\n    return Selected ? <Selected style={{\r\n        fill: color,\r\n        width: size,\r\n        height: size,\r\n        ...style\r\n    }} onClick={onClick} /> : \"\"\r\n}","import { observer } from \"mobx-react-lite\"\r\nimport styled from \"styled-components\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { BiPlay, BiPause, } from \"react-icons/bi\"\r\nimport { BsDiscFill } from \"react-icons/bs\"\r\nimport { IoRepeatSharp } from \"react-icons/io5\"\r\nimport Marquee from \"react-fast-marquee\";\r\nimport { Howl, Howler } from 'howler';\r\nimport { BlocksHolder } from \"define/blocks\"\r\nimport { formatSec } from \"utils/format.js\"\r\nimport Icon from \"components/Icon\"\r\n\r\nconst Cover = styled.div`\r\n  border-radius:1000px 0 0 1000px;\r\n  position: relative;\r\n  width:130px;\r\n  height:100px;\r\n  background-position: center !important;\r\n  flex-shrink: 0;\r\n`\r\n\r\nconst Player = styled.div`\r\n  width: calc(100% - 130px);\r\n  flex-grow: 1;\r\n  padding:10px;\r\n  background-color:white;\r\n`\r\nconst Progress = styled.div`\r\n  overflow: hidden;\r\n  width:100%;\r\n  height:5px;\r\n  background-color:#ffeded;\r\n  border-radius: 1000px;;\r\n`\r\nconst Time = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  & span{\r\n    font-size: 12px;\r\n  }\r\n`\r\nconst Controller = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding:5px;\r\n`\r\n\r\nconst Toggle = styled.div`\r\n  position: relative;\r\n  width:30px;\r\n  height:30px;\r\n  padding:0;\r\n  & svg{\r\n    position: absolute;\r\n    transition:0.3s;\r\n    top:50%;\r\n    left:50%;\r\n    transform:translate(-50%,-50%);\r\n  }\r\n`\r\n\r\nconst Space = styled.div`\r\n  width:30px;\r\n`\r\n\r\nexport default observer(function Music({ model, isSelected, selectedBlock, draggingBlock }) {\r\n  // const ref = useRef(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [duration, setDuration] = useState(0)\r\n  const [seek, setSeek] = useState(0)\r\n  const [playing, setPlaying] = useState(false)\r\n  const [loop, setLoop] = useState(false)\r\n\r\n  useEffect(() => {\r\n\r\n    function initHowl(url, fallback) {\r\n      model.howl = new Howl({\r\n        src: [url],\r\n        html5: true,\r\n        onload: () => {\r\n          setDuration(model.howl.duration())\r\n          setLoading(false)\r\n        },\r\n        onplay: () => {\r\n          setPlaying(true)\r\n        },\r\n        onpause: () => {\r\n          setPlaying(false)\r\n        },\r\n        onloaderror: (id, e) => {\r\n          if (id) {\r\n            console.log(id, e);\r\n            fallback()\r\n          }\r\n        },\r\n        onend: () => {\r\n          if (!model.howl.loop()) {\r\n            setPlaying(false)\r\n          }\r\n        },\r\n        preload: \"metadata\"\r\n      });\r\n\r\n      model.howl.play()\r\n      model.onDelete = () => {\r\n        if (model.howl)\r\n          model.howl.stop()\r\n      }\r\n    }\r\n\r\n    async function doing() {\r\n\r\n      Howler.autoUnlock = true\r\n      const url = model.data.source.url\r\n      if (model.data.type === \"yt\") {\r\n        initHowl(model.data.source.preload, () => {\r\n          fetch(`https://7rs07iiiz2.execute-api.ap-northeast-1.amazonaws.com/default/yt-dl?url=${url}&audio=true`)\r\n            .then((res) => {\r\n              return res.json();\r\n            }).then((res) => {\r\n              model.setSource({\r\n                url,\r\n                preload: res.formats[0].url,\r\n                thumbnail: res.videoDetails.thumbnails[2].url,\r\n                title: res.videoDetails.title,\r\n              })\r\n              initHowl(res.formats[2].url)\r\n            })\r\n        })\r\n      } else if (model.data.type === \"url\") {\r\n        initHowl(url)\r\n      }\r\n\r\n    }\r\n    if (!model.howl)\r\n      doing()\r\n  }, [model])\r\n\r\n  useEffect(() => {\r\n    const id = setInterval(() => {\r\n      if (!model.howl) return\r\n      setSeek(model.howl.seek())\r\n    }, 500);\r\n    return () => {\r\n      clearInterval(id)\r\n    }\r\n  }, [model.howl])\r\n\r\n  useEffect(() => {\r\n    if (!model.howl) return\r\n    model.howl.onplay = () => {\r\n      setPlaying(true)\r\n    }\r\n    model.howl.onpause = () => {\r\n      setPlaying(false)\r\n    }\r\n  }, [model.howl, playing])\r\n\r\n\r\n  function playToggle() {\r\n    if (model.howl) {\r\n      if (model.howl.playing()) {\r\n        model.howl.pause()\r\n      } else {\r\n        model.howl.play()\r\n      }\r\n    }\r\n  }\r\n\r\n  function loopToggle() {\r\n    if (model.howl) {\r\n      if (model.howl.loop()) {\r\n        model.howl.loop(false)\r\n      } else {\r\n        model.howl.loop(true)\r\n      }\r\n      setLoop(model.howl.loop())\r\n    }\r\n  }\r\n\r\n  return <div style={{ display: 'flex', width: 400, height: 100, filter: \"drop-shadow(0 0 2px #575757)\" }}>\r\n    <Cover\r\n      onMouseDown={() => {\r\n        if (isSelected) {\r\n          draggingBlock(true)\r\n          if (selectedBlock().length === 1)\r\n            BlocksHolder.getInstance().sendToFront(model.id)\r\n        }\r\n      }}\r\n      style={{\r\n        filter: `brightness(${loading ? .7 : 1})`,\r\n        background: model.data.source.thumbnail ? `url(${model.data.source.thumbnail})` : (model.data.type === 'yt' ? \"gray\" : model.info.color)\r\n      }}>\r\n      {model.data.type === \"yt\" ? <Loading show={loading ? 1 : 0} /> : <DiskIcon rotate={playing} />}\r\n    </Cover>\r\n    <Player>\r\n      <Marquee gradientWidth={10} >{loading ? \"載入音樂中\" : (model.data.type === \"yt\" ? model.data.source.title : model.data.source.url)}<Space /></Marquee>\r\n      <Time><span>{loading ? \"00:00\" : formatSec(seek)}</span><span>{loading ? \"--:--\" : formatSec(duration)}</span></Time>\r\n      <Progress>\r\n        <div style={{\r\n          height: 10,\r\n          width: loading ? \"0\" : seek / duration * 100 + \"%\",\r\n          backgroundColor: model.info.color,\r\n        }}>\r\n        </div>\r\n      </Progress>\r\n      <Controller>\r\n        <Toggle\r\n          onClick={playToggle}\r\n          style={{\r\n            opacity: loading ? 0.5 : 1,\r\n            cursor: loading ? \"auto\" : \"pointer\",\r\n            pointerEvents: loading ? \"none\" : \"auto\"\r\n          }}>\r\n          <Icon icon=\"play\" color={model.info.color}\r\n            size={30} style={{ opacity: playing ? 0 : 1 }} />\r\n          <Icon icon=\"pause\" color={model.info.color}\r\n            size={30} style={{ opacity: playing ? 1 : 0 }} />\r\n        </Toggle>\r\n        <Toggle style={{ opacity: loop ? 1 : 0.3, cursor: loading ? \"auto\" : \"pointer\" }} >\r\n\r\n          <Icon icon=\"repeat\"\r\n            onClick={loopToggle}\r\n            color={model.info.color}\r\n            size={25} />\r\n\r\n        </Toggle>\r\n      </Controller>\r\n    </Player>\r\n  </div >\r\n})\r\n\r\nfunction Loading({ show }) {\r\n  return <div className=\"spinner\"\r\n    style={{\r\n      position: \"absolute\",\r\n      left: \"50%\",\r\n      top: \"50%\",\r\n      transform: \"translate(-50%,-50%)\",\r\n      opacity: show,\r\n      transition: \"0.5s\"\r\n    }}>\r\n    <div className=\"double-bounce1\"></div>\r\n    <div className=\"double-bounce2\"></div>\r\n  </div>\r\n}\r\n\r\nfunction DiskIcon({ rotate }) {\r\n  return <span style={{\r\n    position: \"absolute\",\r\n    left: \"50%\",\r\n    top: \"50%\",\r\n    transform: \"translate(-50%,-50%)\",\r\n  }}>\r\n    <BsDiscFill\r\n      style={{\r\n        animation: \"spin 4s linear infinite\",\r\n        animationPlayState: rotate ? \"\" : \"paused\",\r\n        transition: \"0.3s\"\r\n      }} size={50}\r\n      color={rotate ? \"white\" : \"#ddd\"} />\r\n  </span>\r\n}","import { BlocksHolder } from 'define/blocks';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { RiToolsFill } from \"react-icons/ri\";\r\n\r\nimport styled from 'styled-components';\r\nimport { useRef, useEffect } from 'react';\r\nimport Text from './Text';\r\nimport Image from './Image';\r\nimport Latex from './Latex';\r\nimport ArrayB from './Array';\r\nimport Music from './Music';\r\n\r\nconst blocksHolder = BlocksHolder.getInstance()\r\n\r\nconst ComponentsCast = {\r\n    text: Text,\r\n    image: Image,\r\n    latex: Latex,\r\n    array: ArrayB,\r\n    music: Music,\r\n}\r\n\r\nexport default observer(function Block({ offsetX, offsetY, zoom, id, selectedBlock, draggingBlock, resizingBlock }) {\r\n    const model = blocksHolder.get(id)\r\n    const isSelected = !!selectedBlock().find((item) => item.id === id)\r\n    const isDragging = draggingBlock() && isSelected\r\n    const ref = useRef(null)\r\n    const domSet = useRef(false)\r\n\r\n    useEffect(() => {\r\n        if (!domSet.current && model) {\r\n            model.setDom(ref.current)\r\n            domSet.current = true\r\n        }\r\n    }, [model])\r\n\r\n    return model ? <BlockBase\r\n        ref={ref}\r\n        x={20}\r\n        y={20}\r\n        offsetX={offsetX}\r\n        offsetY={offsetY}\r\n        zoom={zoom}\r\n        color={model.color}\r\n        style={{\r\n            top: model.geometry.pos.y * zoom + offsetY,\r\n            left: model.geometry.pos.x * zoom + offsetX,\r\n            transform: `scale(${zoom * 100}%)`,\r\n            filter: isDragging ? \"drop-shadow(12px 12px 1px rgba(0, 0, 0, 0.1))\" : \"\",\r\n        }}\r\n        onMouseUp={(e) => {\r\n            if (isDragging) return\r\n            if (e.shiftKey)\r\n                selectedBlock([...selectedBlock(), model]);\r\n            else\r\n                selectedBlock([model]);\r\n        }}\r\n    >\r\n\r\n        <Label\r\n            color={model.info.color}\r\n            onMouseDown={() => {\r\n                if (selectedBlock().length === 1)\r\n                    blocksHolder.sendToFront(model.id)\r\n                draggingBlock(true)\r\n            }}\r\n            style={displaying(isSelected && !isDragging, isSelected && isDragging)}>\r\n            {model.name || model.info.name}\r\n        </Label>\r\n        <Outline color={model.info.color} style={{ borderColor: (isSelected ? \"\" : \"#ffffff00\") }}>\r\n            {((Component) => {\r\n                return (\r\n                    <Component\r\n                        model={model}\r\n                        draggingBlock={draggingBlock}\r\n                        isSelected={isSelected}\r\n                        selectedBlock={selectedBlock}\r\n                        resizingBlock={resizingBlock} />)\r\n            }\r\n            )(ComponentsCast[model.type])}\r\n        </Outline>\r\n\r\n        {<DevLabel style={displaying(isSelected && !isDragging)}>\r\n            <RiToolsFill style={{ verticalAlign: 'middle' }} />{id}\r\n        </DevLabel>}\r\n    </BlockBase > : null\r\n})\r\n\r\n\r\nconst displaying = (show, holdable) => ({\r\n    opacity: show ? 1 : 0,\r\n    pointerEvents: (show || holdable) ? \"auto\" : \"none\",\r\n    transition: \"0.3s\"\r\n})\r\n\r\n\r\nconst BlockBase = styled.div`\r\n  position:absolute;\r\n  z-index:2;\r\n  transform-origin: top left;\r\n`\r\n\r\nconst Outline = styled.div`\r\n  z-index:2;\r\n  border: ${props => `2px solid ${props.color}`};\r\n  transform-origin: top left;\r\n  transition:0.3s;\r\n`\r\n\r\nconst Label = styled.div`\r\n  position:absolute;\r\n  display: inline-block;\r\n  background-color: ${props => props.color};\r\n  color: white;\r\n  padding :0 10px;\r\n  transform: translateY(-100%);\r\n  cursor: move;\r\n  user-select: none;\r\n  transition:0.3s;\r\n  z-index:5;\r\n`\r\n\r\nconst DevLabel = styled.div`\r\n  position:absolute;\r\n  display: inline-flex;\r\n  background-color: #a3a3a3;\r\n  color: white;\r\n  padding :0 5px;\r\n  bottom: 0;\r\n  right:0;\r\n  transform: translateY(100%);\r\n  align-items: center;\r\n  transition:0.3s;\r\n`","import styled from 'styled-components';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { ArrayBlock, BlocksHolder, MusicBlock, TextBlock } from 'define/blocks';\r\nimport { LatexBlock } from './../../define/blocks';\r\nimport { Position } from 'define/basic';\r\n\r\nconst blocksHolder = BlocksHolder.getInstance()\r\n\r\nexport function CommandBar() {\r\n    const [text, setText] = useState(\"\");\r\n    const [display, setDisplay] = useState([]);\r\n    const triggered = useRef(false)\r\n\r\n    useEffect(() => {\r\n        const splits = text.split(\" \")\r\n        const raw = splits.map((s, k) => {\r\n            if (s[0] === \"/\" && k === 0) return <Command>{s}</Command>\r\n            //blocksHolder.id            \r\n            if (s[0] === \"$\") {\r\n                if (blocksHolder.ids.includes(s.replace(\"$\", \"\")))\r\n                    return <ID>{s}</ID>\r\n                else return <WrongID>{s}</WrongID>\r\n            }\r\n            if (s === \"*\") {\r\n                return <All>{s}</All>\r\n            }\r\n            return s\r\n        })\r\n        const result = []\r\n        raw.forEach(e => {\r\n            result.push(e)\r\n            result.push(\" \")\r\n        });\r\n        setDisplay(result)\r\n    }, [text])\r\n\r\n    function trigger() {\r\n        triggered.current = true\r\n        if (text[0] === \"/\") {\r\n            execute(text)\r\n        } else {\r\n            blocksHolder.new(\r\n                new TextBlock(null,\r\n                    \"\",\r\n                    {\r\n                        pos: { x: 0, y: 0 }\r\n                    },\r\n                    {\r\n                        text: text\r\n                    }\r\n                ).init())\r\n        }\r\n    }\r\n\r\n    function execute(command) {\r\n        const parts = command.split(\" \")\r\n        switch (parts[0].replace(\"/\", \"\")) {\r\n            case \"text\": {\r\n                parts.splice(0, 1)\r\n                let arg = parts.join(\" \")\r\n                blocksHolder.new(\r\n                    new TextBlock(null,\r\n                        \"\",\r\n                        {\r\n                            pos: { x: 0, y: 0 }\r\n                        },\r\n                        {\r\n                            text: arg\r\n                        }\r\n                    ).init())\r\n                break\r\n            }\r\n            case \"latex\": {\r\n                parts.splice(0, 1)\r\n                let arg = parts.join(\" \") || \"LaTeX\"\r\n                blocksHolder.new(\r\n                    new LatexBlock(null,\r\n                        \"\",\r\n                        {\r\n                            pos: { x: 0, y: 0 }\r\n                        },\r\n                        {\r\n                            code: arg\r\n                        }\r\n                    ).init())\r\n                break\r\n            }\r\n            case \"array\": {\r\n                parts.splice(0, 1)\r\n                let arg = parts.join(\" \") || \"[]\"\r\n                try {\r\n                    const obj = JSON.parse(arg)\r\n                    blocksHolder.new(new ArrayBlock(\"\",\r\n                        \"\",\r\n                        { pos: { x: 0, y: 0 } },\r\n                        { array: Array.isArray(obj) ? obj : obj.keys.map((k) => obj[k]) }\r\n                    ).init())\r\n\r\n                } catch (e) {\r\n                    console.log(e);\r\n                }\r\n                break\r\n            }\r\n            case \"youtube\":\r\n            case \"yt\": {\r\n                parts.splice(0, 1)\r\n                let arg = parts.join(\" \")\r\n                blocksHolder.new(MusicBlock.createByYt(arg, new Position(0, 0)))\r\n                break\r\n            }\r\n            default: break\r\n        }\r\n    }\r\n\r\n\r\n    return <Frame>\r\n        <Input\r\n            spellCheck=\"false\"\r\n            contentEditable=\"plaintext-only\"\r\n            onKeyPress={(e) => {\r\n                if (e.key === \"Enter\") {\r\n                    trigger()\r\n                }\r\n            }}\r\n            onInput={(e) => {\r\n                if (triggered.current) {\r\n                    triggered.current = false\r\n                    e.target.innerHTML = \"\"\r\n                    setText(\"\")\r\n                } else\r\n                    setText(e.target.innerHTML)\r\n            }}\r\n            onPaste={(e) => {\r\n                e.stopPropagation()\r\n                var pastedText = undefined;\r\n                if (window.clipboardData && window.clipboardData.getData) { // IE\r\n                    pastedText = window.clipboardData.getData('Text');\r\n                } else if (e.clipboardData && e.clipboardData.getData) {\r\n                    pastedText = e.clipboardData.getData('text/plain');\r\n                }\r\n                const processed = pastedText.match(/(\\r\\n|\\n|\\r)/gm, \"\")\r\n\r\n                if (processed)\r\n                    e.preventDefault()\r\n            }}\r\n        >\r\n        </Input>\r\n        <InputFrame>\r\n            {display}\r\n        </InputFrame>\r\n    </Frame>;\r\n}\r\n\r\nconst Frame = styled.div`\r\n            position: absolute;\r\n            z-index:3;\r\n            bottom:0;\r\n            width:100vw;\r\n            height:40px;\r\n            font-family:monospace;\r\n            `\r\nconst InputFrame = styled.div`\r\n            position: absolute;\r\n            width:100%;\r\n            height:40px;\r\n            padding:10px;\r\n            background-color:#00000022;\r\n            font-size:18px;\r\n            top:0;\r\n            `\r\nconst Input = styled.div`\r\n            position: absolute;\r\n            padding:10px;\r\n            width:100%;\r\n            top:0;\r\n            font-size:18px;\r\n            outline: none;\r\n            border:none;\r\n            background-color: transparent;\r\n            color:transparent;\r\n            z-index:2;\r\n            caret-color:black;\r\n            `\r\n\r\nconst Command = styled.span`\r\n            font-weight:bold;\r\n            color:#00A7F5;\r\n            `\r\n\r\nconst ID = styled.span`\r\n         background-color:#F5D000;\r\n        border-radius:2px;\r\n        color:white;\r\n            `\r\n\r\nconst WrongID = styled.span`\r\ntext-decoration: wavy underline red;\r\n`\r\n\r\nconst All = styled.span`\r\n        background-color:#0072F5;\r\n        border-radius:2px;\r\n        color:white;\r\n `","export async function urlCheck(text) {\r\n    // Ref: https://blog.xuite.net/vexed/tech/46146920\r\n    const regex = /(https?:\\/\\/[\\w-\\.]+(:\\d+)?(\\/[~\\w\\/\\.]*)?(\\?\\S*)?(#\\S*)?)/\r\n    return new Promise(async (resolve, reject) => {\r\n        if (text.match(regex) || text.indexOf(\"data:\") > -1) {\r\n            if (text.indexOf(\"www.youtube.com\") > -1) return resolve(\"yt\")\r\n            const isAudio = await audioCheck(text);\r\n            if (isAudio) return resolve(\"audio\")\r\n            const isImg = await imageCheck(text);\r\n            if (isImg) return resolve(\"image\")\r\n            resolve(\"else\")\r\n        }\r\n\r\n        else resolve(null);\r\n    })\r\n\r\n}\r\n\r\n// Ref: https://stackoverflow.com/questions/9714525/javascript-image-url-verify\r\nfunction imageCheck(url) {\r\n    const timeout = 500;\r\n    let timer;\r\n    let img = new Image();\r\n    return new Promise((resolve, reject) => {\r\n        img.onerror = img.onabort = function () {\r\n            img = null\r\n            clearTimeout(timer)\r\n            resolve(false)\r\n        };\r\n        img.onload = function () {\r\n            img = null\r\n            clearTimeout(timer)\r\n            resolve(true)\r\n        };\r\n        img.src = url;\r\n        timer = setTimeout(function () {\r\n            img = null\r\n            resolve(null);\r\n        }, timeout);\r\n    })\r\n}\r\n\r\n// Ref: https://stackoverflow.com/questions/29681907/check-if-sound-file-exists-javascript\r\nfunction audioCheck(url) {\r\n    const timeout = 500;\r\n    let timer;\r\n    let audio = new Audio();\r\n    return new Promise((resolve, reject) => {\r\n        audio.onerror = audio.onabort = function () {\r\n            audio = null\r\n            clearTimeout(timer)\r\n            resolve(false)\r\n        };\r\n        audio.oncanplay = function () {\r\n            audio = null\r\n            clearTimeout(timer)\r\n            resolve(true)\r\n        };\r\n        audio.src = url;\r\n        audio.load();\r\n        timer = setTimeout(function () {\r\n            audio = null\r\n            resolve(null);\r\n        }, timeout);\r\n    })\r\n}\r\n\r\nexport function overlapCheck(boundary = [{ x: 0, y: 0 }, { x: 0, y: 0 }], target) {\r\n    var rect = target.getBoundingClientRect();\r\n    if (boundary[1].x > rect.left &&\r\n        rect.right > boundary[0].x &&\r\n        boundary[1].y > rect.top &&\r\n        rect.bottom > boundary[0].y) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}","export default function when(value, determine) {\r\n    return {\r\n        case: (con, v) => {\r\n            if (value === con || determine) {\r\n                return when(value, determine || v)\r\n            }\r\n            else return when(value)\r\n        },\r\n        else: (v) => {\r\n            console.log(determine);\r\n            if (determine !== undefined) {\r\n                console.log(`Got determine`);\r\n\r\n                if (typeof determine === \"function\")\r\n                    return determine()\r\n                return determine\r\n            } else if (typeof v === \"function\") {\r\n                return v()\r\n            }\r\n\r\n            return v\r\n        }\r\n    }\r\n}","import styled from 'styled-components';\r\nimport Icon from 'components/Icon';\r\n\r\nconst Btn = styled.span`\r\n  display: inline-flex;\r\n  align-items:center;\r\n  justify-content:center;\r\n  width: 30px;\r\n  height:30px;\r\n  background-color:white;\r\n  border-radius:2px;\r\n  transition:0.3s;\r\n  & svg{\r\n    fill:${props => props.color};\r\n    transition:0.3s;\r\n  }\r\n  &:hover{\r\n    background-color:${props => props.color};\r\n    & svg{\r\n      fill:white;\r\n    }\r\n  }\r\n\r\n`\r\n\r\nexport default function IconButton({ onClick, color, icon }) {\r\n    return (<Btn color={color} onClick={onClick}>\r\n        <Icon icon={icon} />\r\n    </Btn>);\r\n}","import { createPortal } from \"react-dom\";\r\nimport styled from 'styled-components';\r\n\r\nconst BackDrop = styled.div`\r\n  position:absolute;\r\n  top:0;\r\n  left:0;\r\n  width:100vw;\r\n  height:100vh;\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items:center;\r\n  background:#00000022;\r\n  transition:0.3s;\r\n  z-index:10;\r\n`\r\nconst Card = styled.div`\r\n  background:#FFFFFF;\r\n  border-radius:10px;\r\n  width:400px;\r\n  height:80%;\r\n  overflow-y:auto;\r\n  padding:20px;\r\n`\r\n\r\nexport default function Modal({ isOpen, setOpen, children }) {\r\n  return createPortal(\r\n    <BackDrop\r\n      style={{\r\n        pointerEvents: isOpen ? \"auto\" : \"none\",\r\n        opacity: isOpen ? 1 : 0,\r\n      }}\r\n      onClick={() => setOpen(false)}>\r\n      <Card\r\n        onClick={(e) => e.stopPropagation()}>\r\n        {children}\r\n      </Card>\r\n    </BackDrop>, document.getElementById(\"root\"));\r\n}","import styled from \"styled-components\"\r\nimport Icon from 'components/Icon';\r\nimport Modal from './../Modal/index';\r\nimport { useState } from 'react';\r\nimport { castMap } from \"define/blocks\";\r\nimport { BlocksHolder } from './../../define/blocks';\r\nimport { Position } from \"define/basic\";\r\n\r\nconst Box = styled.div`\r\n    position:fixed;\r\n    right:0;\r\n    bottom:40px;\r\n    display:flex;\r\n    gap:10px;\r\n    padding:20px;\r\n    z-index:8;\r\n`\r\n\r\nconst Button = styled.span`\r\n    width:50px;\r\n    height:50px;\r\n    border-radius:100px;\r\n    background: white;\r\n    display:inline-flex;\r\n    justify-content:center;\r\n    align-items:center;\r\n    box-shadow:0px 0px 3px 1px gray;\r\n    filter: brightness(1);\r\n    transition:0.3s;\r\n    cursor:pointer;\r\n    &:hover:{\r\n     filter: brightness(.9);\r\n     background:red;\r\n    }\r\n`\r\n\r\nconst Item = styled.span`\r\n    margin: 10px 0;\r\n    width:100%;\r\n    height:50px;\r\n    border-radius:10px;\r\n    background: white;\r\n    display:inline-flex;\r\n    justify-content:center;\r\n    align-items:center;\r\n    box-shadow:0px 0px 3px 1px gray;\r\n    filter: brightness(1);\r\n    transition:0.3s;\r\n    cursor:pointer;\r\n    &:hover:{\r\n     filter: brightness(0.8);\r\n    }\r\n`\r\n\r\n\r\nexport default function Toolbox() {\r\n    const [isOpen, setOpen] = useState(false)\r\n    function addBlock(Type) {\r\n        BlocksHolder.getInstance().new(new (Type)(\"_\", new (Type)().info.name, { pos: new Position(500, 200) }, {}).init().new())\r\n        setOpen(false)\r\n    }\r\n    return <Box>\r\n        <Button onClick={() => setOpen(true)}>\r\n            <Icon icon=\"add\" color=\"#00AEFF\"></Icon>\r\n        </Button>\r\n        <Modal isOpen={isOpen} setOpen={setOpen}>\r\n            <h1 style={{ margin: 0 }}>新增方塊</h1>\r\n            <hr style={{ background: \"gray\" }} />\r\n            {Object.keys(castMap).map((key) => <Item onClick={() => addBlock(castMap[key])}>{new (castMap[key])().info.name}</Item>)}\r\n        </Modal>\r\n    </Box>\r\n}","import styled from 'styled-components';\r\nimport BackPatten from \"components/BackPatten\";\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport 'katex/dist/katex.min.css';\r\nimport { observer } from \"mobx-react-lite\" // Or \"mobx-react\".\r\nimport { alignVertical, BlocksHolder, ImageBlock, MusicBlock, TextBlock } from 'define/blocks';\r\nimport Block from 'Blocks';\r\nimport { BiCurrentLocation } from \"react-icons/bi\";\r\nimport { FaMousePointer } from \"react-icons/fa\";\r\nimport { MdZoomOutMap } from \"react-icons/md\";\r\nimport { CommandBar } from './components/CommandBar/index';\r\nimport { overlapCheck, urlCheck } from 'utils/check';\r\nimport when from 'utils/flow';\r\nimport Icon from './components/Icon/index';\r\nimport IconButton from './components/IconButton/index';\r\nimport { alignHorizontal } from './define/blocks';\r\nimport Toolbox from './components/Toolbox/index';\r\nimport { Position } from 'define/basic';\r\n\r\nconst Touch = styled.div`\r\n  position:absolute;\r\n  top:0;\r\n  left:0;\r\n  width:100vw;\r\n  height:100vh;\r\n  z-index:1;\r\n`\r\nconst RightPanel = styled.div`\r\nposition:absolute;\r\ntop:20px;\r\nright:20px;\r\ndisplay: flex;\r\nflex-direction: column;\r\ngap: 10px;\r\n`\r\n\r\nconst DisplayTitle = styled.h3`\r\n  margin:0;\r\n`\r\n\r\nconst Display = styled.div`\r\n  width:240px;\r\n  padding:10px;\r\n  z-index:2;\r\n  background-color: white;\r\n  overflow: hidden;\r\n  border-radius: 2px;\r\n  box-shadow: 1px 1px 5px 1px gray;\r\n  transition: 0.3s;\r\n`\r\n\r\nconst InfoLine = styled.div`\r\n  display: flex;\r\n  align-items:center;\r\n  margin:5px 0;\r\n`\r\n\r\nconst Tag = styled.div`\r\n  gap: 2px;\r\n  display: inline-flex;\r\n  border-radius: 2px;\r\n  background-color: ${props => props.bgColor};\r\n  padding:2px 4px;\r\n  color: white;\r\n  align-items:center;\r\n  margin-right:10px;\r\n`\r\n\r\nconst SelectingFrame = styled.div`\r\n  position: fixed;\r\n  width:100px;\r\n  height:100px;\r\n  border: 3px solid #4186b0;\r\n  background-color: #b0e1ff55;\r\n  z-index:4;\r\n`\r\n\r\nconst blocksHolder = BlocksHolder.getInstance()\r\n\r\n\r\nconst WorkSpace = observer(function ({ offsetX, offsetY, zoom, ids, zooming, selectedBlock, draggingBlock, resizingBlock\r\n}) {\r\n\r\n  return <>\r\n    {ids.map((id) => {\r\n      return <Block\r\n        key={id}\r\n        offsetX={offsetX}\r\n        offsetY={offsetY}\r\n        zoom={zoom}\r\n        id={id}\r\n        selectedBlock={selectedBlock}\r\n        draggingBlock={draggingBlock}\r\n        resizingBlock={resizingBlock} />\r\n    })}\r\n  </>\r\n})\r\n\r\nwindow.urlCheck = urlCheck\r\n\r\nfunction App() {\r\n  const [mouseX, setMouseX] = useState(0);\r\n  const [mouseY, setMouseY] = useState(0);\r\n\r\n  const [offsetX, setOffsetX] = useState(20);\r\n  const [offsetY, setOffsetY] = useState(20);\r\n\r\n  // const [gapX, setGapX] = useState(0);\r\n  // const [gapY, setGapY] = useState(0);\r\n\r\n  const [zoom, setZoom] = useState(1);\r\n  const [isHold, setHold] = useState(false);\r\n\r\n  const [space, setSpace] = useState(false);\r\n\r\n  const [selectedBlocks, setSelectedBlocks] = useState([]);\r\n\r\n  const [selectingStart, setSelectingStart] = useState(null);\r\n\r\n  const dragOffset = useRef({})\r\n  const [isDragging, setDragging] = useState(false);\r\n\r\n  const resizeOffset = useRef(null)\r\n  const [isResizing, setResizing] = useState(false);\r\n\r\n  const originOffset = useRef({ x: 0, y: 0 })\r\n  const originMouse = useRef({ x: 0, y: 0 })\r\n\r\n  function selected(target) {\r\n    if (target !== undefined)\r\n      setSelectedBlocks(target)\r\n    return target || selectedBlocks\r\n  }\r\n\r\n  function dragging(isDrag) {\r\n    if (isDrag)\r\n      if (selectedBlocks.length > 0) {\r\n        selectedBlocks.forEach(block => {\r\n          dragOffset.current[block.id] = {\r\n            x: block.dom.getBoundingClientRect().left - mouseX,\r\n            y: block.dom.getBoundingClientRect().top - mouseY\r\n          }\r\n        });\r\n      }\r\n\r\n    if (isDrag !== undefined)\r\n      setDragging(isDrag)\r\n    return isDrag || isDragging\r\n  }\r\n\r\n  function resizing(isResize) {\r\n    if (isResize) {\r\n      resizeOffset.current = {\r\n        width: selectedBlocks[0].data.width,\r\n        x: mouseX,\r\n      }\r\n    }\r\n\r\n    if (isResize !== undefined)\r\n      setResizing(isResize)\r\n    return isResize || isResizing\r\n  }\r\n\r\n  function mouseMove(e) {\r\n    if (isHold) {\r\n      window.requestAnimationFrame(() => {\r\n        setOffsetX(originOffset.current.x - (originMouse.current.x - e.clientX))\r\n        setOffsetY(originOffset.current.y - (originMouse.current.y - e.clientY))\r\n      });\r\n    }\r\n  }\r\n\r\n  function mouseDown(e) {\r\n    if (space) {\r\n      originOffset.current.x = offsetX\r\n      originOffset.current.y = offsetY\r\n      originMouse.current.x = e.clientX\r\n      originMouse.current.y = e.clientY\r\n      setHold(true)\r\n    } else if (e.button === 0) {\r\n      setSelectingStart({ x: mouseX, y: mouseY })\r\n    }\r\n  }\r\n\r\n  function zooming(e) {\r\n    e = e || window.event\r\n    if (e.deltaY > 0) {\r\n      if (zoom > 0.5) {\r\n        let after = zoom - 0.1\r\n\r\n        // let X = e.clientX * after - e.clientX * zoom\r\n        // let Y = e.clientY * after - e.clientY * zoom\r\n        // setGapX(gapX - X)\r\n        // setGapY(gapY - Y)\r\n        setZoom(after)\r\n      }\r\n    } else {\r\n      if (zoom < 2) {\r\n        let after = zoom + 0.1\r\n\r\n        // let X = e.clientX * after - e.clientX * zoom\r\n        // let Y = e.clientY * after - e.clientY * zoom\r\n        // setGapX(gapX - X)\r\n        // setGapY(gapY - Y)\r\n        setZoom(after)\r\n      }\r\n    }\r\n  }\r\n\r\n  function newBlockByPaste(pastingObject) {\r\n    switch (pastingObject.type) {\r\n      case \"text\":\r\n        blocksHolder.new(new TextBlock(null, \"新文字方塊\", { pos: { x: 0, y: 0 } }, { text: pastingObject.text }).init())\r\n        break\r\n      case \"image\":\r\n        blocksHolder.new(new ImageBlock(null,\r\n          pastingObject.file?.name || \"\",\r\n          { pos: { x: 0, y: 0 } },\r\n          {\r\n            src: pastingObject.file\r\n              ? URL.createObjectURL(pastingObject.file)\r\n              : pastingObject.url,\r\n            width: 300\r\n          }).init())\r\n        break\r\n      case \"audio\":\r\n        if (pastingObject.yt)\r\n          blocksHolder.new(MusicBlock.createByYt(pastingObject.yt, new Position(0, 0)))\r\n        else\r\n          blocksHolder.new(MusicBlock.createByUrl(pastingObject.url, new Position(0, 0)))\r\n        break\r\n      default:\r\n    }\r\n  }\r\n\r\n  function forwardPaste(pastingObject) {\r\n    console.log(pastingObject);\r\n    if (selectedBlocks.length === 1) {\r\n      selectedBlocks[0].paste(pastingObject)\r\n    } else {\r\n      newBlockByPaste(pastingObject)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.onpaste = (e) => {\r\n      const dT = e.clipboardData || window.clipboardData;\r\n      const file = dT.files[0];\r\n      if (file) {\r\n        if (file.type.startsWith('image/')) {\r\n          forwardPaste({\r\n            type: \"image\",\r\n            file: file\r\n          })\r\n        }\r\n        if (file.type.startsWith('audio/'))\r\n          forwardPaste({\r\n            type: \"audio\",\r\n            file: file\r\n          })\r\n\r\n      } else {\r\n        if (dT.items[0])\r\n          dT.items[0].getAsString((txt) => {\r\n            let url = txt;\r\n            try {\r\n              const obj = JSON.parse(txt)\r\n              url = obj.url\r\n            } catch {\r\n\r\n            }\r\n            urlCheck(url).then((res) => {\r\n              if (res) {\r\n                when(res)\r\n                  .case(\"image\", () => forwardPaste({\r\n                    type: \"image\",\r\n                    url: url\r\n                  }))\r\n                  .case(\"audio\", () => forwardPaste({\r\n                    type: \"audio\",\r\n                    url: url\r\n                  }))\r\n                  .case(\"yt\", () => forwardPaste({\r\n                    type: \"audio\",\r\n                    yt: url\r\n                  }))\r\n                  .else(() => forwardPaste({\r\n                    type: \"text\",\r\n                    text: url\r\n                  }))\r\n              } else forwardPaste({\r\n                type: \"text\",\r\n                text: url\r\n              })\r\n            })\r\n\r\n          })\r\n      }\r\n    };\r\n\r\n    document.onmousemove = (e) => {\r\n\r\n      setMouseX(e.clientX)\r\n      setMouseY(e.clientY)\r\n      if (isDragging) {\r\n        selectedBlocks.forEach((block) => {\r\n          block.setPos((\r\n            e.clientX + dragOffset.current[block.id].x - offsetX) / zoom,\r\n            (e.clientY + dragOffset.current[block.id].y - offsetY) / zoom)\r\n        })\r\n      }\r\n      if (isResizing) {\r\n        const block = selectedBlocks[0]\r\n        block.setWidth((e.clientX - resizeOffset.current.x) / zoom + resizeOffset.current.width)\r\n      }\r\n    }\r\n\r\n    document.onmouseup = () => {\r\n      setHold(false)\r\n      dragging(false)\r\n      resizing(false)\r\n      const boundary = [\r\n        { x: Math.min(mouseX, selectingStart.x), y: Math.min(mouseY, selectingStart.y) },\r\n        { x: Math.max(mouseX, selectingStart.x), y: Math.max(mouseY, selectingStart.y) }\r\n      ]\r\n      setSelectedBlocks(blocksHolder.ids.filter((id) =>\r\n        overlapCheck(boundary, blocksHolder.blocks[id].dom)\r\n      ).map((id) => blocksHolder.blocks[id]))\r\n      setSelectingStart(null)\r\n    }\r\n\r\n    document.onkeydown = (e) => {\r\n      if (e.key === \"Delete\") {\r\n        if (selectedBlocks.length >= 1)\r\n          blocksHolder.remove(selectedBlocks)\r\n      }\r\n      else if (e.key === \" \") {\r\n        setSpace(true)\r\n      }\r\n    }\r\n\r\n    document.onkeyup = (e) => {\r\n      if (e.key === \" \") {\r\n        setSpace(false)\r\n      }\r\n    }\r\n\r\n    document.onwheel = zooming\r\n  }, [isDragging, isResizing, selectedBlocks, zoom, selectingStart, mouseX, mouseY])\r\n\r\n  return (\r\n    <>\r\n      {selectingStart &&\r\n        <SelectingFrame\r\n          style={{\r\n            top: Math.min(selectingStart.y, mouseY),\r\n            left: Math.min(selectingStart.x, mouseX),\r\n            width: Math.abs(mouseX - selectingStart.x),\r\n            height: Math.abs(mouseY - selectingStart.y),\r\n          }} />}\r\n      <BackPatten type=\"grid\" offsetX={offsetX} offsetY={offsetY} option={{ size: 30 * zoom, groupSize: 20 }} />\r\n      <WorkSpace\r\n        zooming={zooming}\r\n        offsetX={offsetX}\r\n        offsetY={offsetY}\r\n        zoom={zoom}\r\n        ids={blocksHolder.ids}\r\n        selectedBlock={selected}\r\n        draggingBlock={dragging}\r\n        resizingBlock={resizing}\r\n      />\r\n      <Touch\r\n        onMouseDown={mouseDown}\r\n        onMouseMove={mouseMove}\r\n        style={{\r\n          cursor: isHold ? \"grabbing\" : (space ? \"grab\" : \"auto\")\r\n        }} />\r\n\r\n      <RightPanel>\r\n        <Display>\r\n          <DisplayTitle>資訊</DisplayTitle>\r\n          <InfoLine>\r\n            <Tag bgColor=\"#047BEB\"><BiCurrentLocation /> Offset</Tag> ({offsetX},{offsetY})\r\n          </InfoLine>\r\n          <InfoLine>\r\n            <Tag bgColor=\"#F3C600\"><FaMousePointer /> Mouse</Tag> ({mouseX},{mouseY})\r\n          </InfoLine>\r\n          <InfoLine>\r\n            <Tag bgColor=\"#006823\"><MdZoomOutMap /> Zoom</Tag>{Math.round(zoom * 100)}%\r\n          </InfoLine>\r\n        </Display>\r\n        <Display\r\n          style={{\r\n            opacity: selectedBlocks.length === 0 ? 0 : 1,\r\n            pointerEvents: selectedBlocks.length === 0 ? \"none\" : \"auto\"\r\n          }}>\r\n          <DisplayTitle>屬性</DisplayTitle>\r\n          {selectedBlocks.length > 1 &&\r\n            <div>已選擇{selectedBlocks[0].getName()}與其他{selectedBlocks.length - 1}個元素</div>\r\n          }\r\n          <div id=\"attributes\" style={{ marginTop: 10 }}>\r\n\r\n          </div>\r\n        </Display>\r\n        <Display\r\n          style={{\r\n            opacity: selectedBlocks.length < 2 ? 0 : 1,\r\n            pointerEvents: selectedBlocks.length < 2 ? \"none\" : \"auto\"\r\n          }}>\r\n          <DisplayTitle>排列</DisplayTitle>\r\n          <div style={{ marginTop: 10, display: \"flex\", gap: 5 }}>\r\n            <IconButton icon=\"align_v\" color=\"#003D83\" onClick={() => alignVertical(selectedBlocks, 20)} />\r\n            <IconButton icon=\"align_h\" color=\"#003D83\" onClick={() => alignHorizontal(selectedBlocks, 20)} />\r\n          </div>\r\n        </Display>\r\n      </RightPanel>\r\n      <Toolbox />\r\n      <CommandBar />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}